:root { --bg:#0b0d10;--card:#12161b;--border:#1f2630;--text:#e6edf3;--muted:#9aa7b3;--chip:#19202a;--accent:#2f81f7 }
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans JP,sans-serif}
@media (max-width: 480px){ body{ font-size:17px; } }
.container{max-width:960px;margin:0 auto;padding:16px}
header h1{margin:16px 0 4px;font-weight:800;letter-spacing:.02em}
.muted{color:var(--muted)}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.25)}
.controls{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding:16px;border-bottom:1px solid var(--border)}
.control label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
.control .control-label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px;letter-spacing:.04em}
select,input[type=time]{width:100%;padding:14px 16px;border-radius:14px;background:#0f1318;color:var(--text);border:1px solid var(--border);min-height:48px;font-size:16px;line-height:1.4}
.segmented{display:grid;width:100%;grid-template-columns:repeat(auto-fit,minmax(164px,1fr));gap:8px;border:1px solid var(--border);background:#0f1318;border-radius:16px;padding:6px}
.segmented__option{display:flex;flex-direction:column;align-items:flex-start;gap:4px;padding:12px 14px;border-radius:12px;border:1px solid transparent;background:transparent;color:var(--muted);font-size:14px;font-weight:600;cursor:pointer;transition:background .2s,border-color .2s,color .2s}
.segmented__option:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.segmented__option .segmented__eyebrow{font-size:11px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:rgba(230,237,243,.72)}
.segmented__option .segmented__label{font-size:15px;color:var(--text);font-weight:700}
.segmented__option.is-active{background:rgba(47,129,247,.16);border-color:rgba(47,129,247,.4);color:var(--text);box-shadow:0 0 0 1px rgba(47,129,247,.25)}
.segmented__option.is-active .segmented__eyebrow{color:#8fb7ff}
.ghost{margin-top:8px;padding:10px 12px;background:transparent;color:var(--muted);border:1px dashed var(--border);border-radius:10px;cursor:pointer;min-height:44px}
.summary{position:sticky;top:0;z-index:4;display:flex;gap:8px;flex-wrap:wrap;padding:16px;background:rgba(18,22,27,.94);backdrop-filter:blur(14px);margin:0 0 12px;border-bottom:1px solid rgba(31,38,48,.7);box-shadow:0 18px 36px -28px rgba(0,0,0,.8)}
.chip{display:flex;align-items:center;gap:8px;background:rgba(154,167,179,.12);border:none;padding:8px 12px;border-radius:10px;font-size:12px;color:var(--muted);cursor:default;box-shadow:inset 0 0 0 1px rgba(255,255,255,.02)}
.chip span{font-size:11px;letter-spacing:.05em;color:rgba(230,237,243,.7);font-weight:600}
.chip::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--muted);opacity:.4}
.chip strong{color:var(--text);font-weight:600}
.results{padding:8px 16px 16px}
.results h2{margin:12px 0 8px;font-size:16px}
.results #upcoming{display:grid;gap:12px}
.trip{border:1px solid var(--border);border-radius:12px;background:#0f1318;overflow:hidden;transition:border-color .2s,box-shadow .2s}
.trip[open]{border-color:rgba(47,129,247,.4);box-shadow:0 18px 36px -28px rgba(47,129,247,.8)}
.trip[open] .tripRow{background:rgba(47,129,247,.14);border-bottom:1px solid rgba(47,129,247,.35)}
.trip[open] .tripRow__hint{color:#8fb7ff}
.tripRow{list-style:none;display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;padding:14px 16px;cursor:pointer;position:relative}
.tripRow::-webkit-details-marker{display:none}
.tripRow:hover{background:rgba(25,32,42,.6)}
.tripRow:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.tripRow__content{display:grid;gap:4px}
.tripRow__hint{font-size:11px;letter-spacing:.08em;text-transform:uppercase;color:rgba(230,237,243,.42)}
.trip-extra{display:grid;gap:14px;padding:0 16px 16px}
.trip-meta{display:grid;gap:8px;font-size:13px;color:var(--muted)}
.trip-meta div{display:flex;justify-content:space-between;gap:12px}
.trip-meta dt{font-weight:600;letter-spacing:.04em}
.trip-meta dd{margin:0;color:var(--text);font-feature-settings:"tnum" 1,"liga" 0}
.trip-extra__footer{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between}
.trip-extra__note{font-size:12px;color:var(--muted)}
.trip-action{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;border:1px solid rgba(47,129,247,.3);background:transparent;color:var(--text);font-size:12px;font-weight:600;cursor:pointer;transition:background .2s,border-color .2s}
.trip-action span[aria-hidden="true"]{font-size:13px;line-height:1}
.trip-action:hover{background:rgba(47,129,247,.18);border-color:rgba(47,129,247,.5)}
.trip-action:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.badge{font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted)}
.badge--relative{font-variant-numeric: tabular-nums;}
.time{font-feature-settings:"tnum" 1,"liga" 0;letter-spacing:.02em}
.kicker{font-size:12px;color:var(--muted)}
.footer{display:flex;justify-content:space-between;align-items:center;color:var(--muted)}

/* Hero (次発を強調表示) */
.hero{display:grid;place-items:center;text-align:center;border:1px solid var(--border);border-radius:14px;padding:18px;background:linear-gradient(180deg,rgba(47,129,247,.12),rgba(47,129,247,0));margin:8px 0 16px}
.hero-time{font-size:clamp(44px,10vw,72px);font-weight:800;letter-spacing:.02em}
.countdown{margin-top:4px;color:var(--muted);font-variant-numeric:tabular-nums;letter-spacing:.04em}
.hero-sub{margin-top:8px;color:var(--text)}
.hero-actions{margin-top:16px;display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
.hero-action{display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:999px;border:1px solid rgba(47,129,247,.24);background:rgba(47,129,247,.12);color:var(--text);font-size:13px;font-weight:600;cursor:pointer;transition:background .2s,border-color .2s,transform .2s}
.hero-action span[aria-hidden="true"]{font-size:14px;line-height:1}
.hero-action:hover{background:rgba(47,129,247,.2);border-color:rgba(47,129,247,.45)}
.hero-action:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.hero-action.is-active{background:rgba(47,129,247,.28);border-color:rgba(47,129,247,.6);box-shadow:0 0 0 1px rgba(47,129,247,.4)}
.hero-feedback{margin-top:12px;font-size:12px;color:#8fb7ff}
.hero-helper{margin-top:12px;padding:12px 14px;border-radius:12px;border:1px solid rgba(47,129,247,.24);background:rgba(15,19,24,.9);color:var(--muted);font-size:13px;line-height:1.6;text-align:left;max-width:420px}
.hero-helper p{margin:0}
.hero-helper p+p{margin-top:8px}

@media (max-width: 600px){
  select,input[type=time]{padding:16px 18px;min-height:52px;border-radius:16px}
  .chip{padding:8px 14px;font-size:13px}
}

/* a11y: visually hidden */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
