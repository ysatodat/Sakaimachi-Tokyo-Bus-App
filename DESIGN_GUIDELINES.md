# Sakaimachi Bus Mini – Design Guidelines

このドキュメントは境町バスミニのUI/UXを一貫して高品質に保つためのデザイン指針です。ミニマルで洗練されたテック企業の雰囲気を醸成しつつ、ユーザビリティと可読性を最優先に設計してください。最新方針として**フラットデザイン**を採用し、余計な立体表現やドロップシャドウに頼らず、配色とタイポグラフィで視覚的な階層を構築します。

## 1. デザイン原則
- **明瞭性**: 情報は階層構造と余白で整理し、一目で認識できるようにする。無駄な装飾・立体効果を排除し、意味のある要素だけを残す。
- **信頼感のあるテック感**: 落ち着いたニュートラルカラーと控えめなアクセントを組み合わせ、モダンかつ信頼できる雰囲気を演出する。フラットな面とシャープなラインで「プロダクトとしての完成度」を示す。
- **アクセシビリティ優先**: 色覚多様性・音声読み上げ・モバイル操作など、すべての利用者が快適に操作できる状態を常に維持する。
- **コンテキストに応じた強調**: ユーザーが「次に取るべき行動」を迷わないよう、最小限のハイライトでアフォーダンスを示す。

## 2. カラーパレット
ライトテーマを基調とし、ダークテーマは任意。アクセントカラーは使いすぎず「注目すべき行動 / 情報」に限定する。

| Token               | Hex     | 説明                                             |
|---------------------|---------|--------------------------------------------------|
| `--color-bg`        | #FFFFFF | ページ背景。視覚的なノイズを排し、余白を活かす |
| `--color-surface`   | #F5F7FA | カード・モジュール背景。影ではなくトーン差で区切りを演出 |
| `--color-border`    | #D7DEE7 | 区切り線・カード境界。薄く控えめに使用         |
| `--color-text`      | #1B1E29 | 基本文字。高い可読性を確保                     |
| `--color-muted`     | #5C6370 | サブテキスト・説明文。コントラスト差を明確に   |
| `--color-accent`    | #2D74FF | 主要アクション・リンク。濃いめのブルーで知的な印象 |
| `--color-accent-soft` | #E5EEFF | アクセントのソフト背景。通知やピルなどに使用 |
| `--color-positive`  | #1A9D5A | 成功状態                                         |
| `--color-critical`  | #E5484D | エラー / 警告                                     |

**アクセント使用ルール**
- プライマリアクション、主要リンク、能動的なハイライトに限定。
- 同一ビュー内で視覚的優先度は 1〜2 個に絞る。
- ホバー / フォーカス時は `--color-accent` を濃くするか、`--color-accent-soft` を背景に敷きコントラストを強調。
- サクセス・警告系のカラーは控えめな面積で使用し、アクセントカラーと競合させない。

## 3. タイポグラフィ
- **ベースフォント**: "Inter", "Noto Sans JP", system-ui。
- **スケール** (基準 16px): 12 / 14 / 16 / 18 / 24 / 32 / 48。
- **見出し**: 太め (`600-700`) で余白を十分に確保。各ページで H1 は 32px、H2 は 24px を目安。
- **本文**: 16px / 行間 1.6。長文は最大 70 文字程度で折り返す。
- **ラベル・メタ**: 12-14px、すべて大文字は避け、代わりに文字間隔（0.08em 以内）でリズムを整える。

## 4. レイアウトとスペーシング
- **グリッド**: 12 カラム (モバイルは単一カラム)。コンテナ幅最大 960px。
- **余白**: 8px ベースの 4 の倍数。カード内パディングは 16px 以上。
- **セクション**: 垂直余白 32px を基準に、文脈に応じて前後の距離を調整。
- **モバイル最適化**: ボタンやナビゲーションは 48px 以上のタップ領域を確保。フッターは 1 カラム構成で視線の流れを阻害しないようにする。

## 5. コンポーネントスタイル
- **ヘッダー / ナビゲーション**: 固定幅ではなく余白を十分に持たせ、ルートリンクを Pills 形式で表現。アクティブ状態は `--color-accent-soft` を背景に、境界線でレイヤーを表現。
- **カード**: 角丸 12〜16px、背景に `--color-surface` を使用し、影は原則使用せず 1px の罫線でレイヤーを区別。必要な場合のみ 1px のアウトラインや背景色の階調差で階層を示す。
- **ボタン**: プライマリは塗りつぶし (`--color-accent`) + 白文字。セカンダリはアウトライン。角丸 999px でミニマルに。
- **フォーム要素**: 角丸 12px、枠線は `--color-border`。フォーカスは枠線を `--color-accent` に、背景は白のまま保ち視認性を高める。
- **リンク**: デフォルトは `--color-accent`、ホバーでトーンアップ。透明度を調整して極端な発光を避ける (例: base 80%、hover 100%)。
- **フッター**: ライトグレー背景 (例: #EEF1F6) の単一カラム。サイトマップリンク・著作権・外部リンクを縦積みで表示し、12px の間隔を維持。影ではなく色面で区切る。
- **タグ / バッジ**: `--color-surface` + 細いボーダー。アクセント背景は連続して使わず、強調対象は最大 3 まで。
- **モーダル / Toast**: 背景ぼかしよりも半透明オーバーレイでシンプルに。立体感を与える場合も影ではなく、背景色の明暗差とアウトラインで表現する。

## 6. アクセシビリティと UX
- WCAG AA を満たすコントラスト比（4.5:1 以上）を維持。アクセントカラーは背景と組み合わせた時も基準を満たすよう調整する。
- フォーカスリングは視認性を高めるため必ず描画。影のみでの表現は避け、2px のアウトラインを付ける。
- キーボード操作を前提に、タブ順序は視線の流れと一致させる。
- コンテンツの区切りには視覚的なヒント（見出し・余白・薄い区切り線）を併用。
- 主要導線はスクロールせず取得できる位置に配置。モバイルではヒーロー直下にクイックアクション。

## 7. モーション / インタラクション
- トランジションは 150〜200ms 程度で自然に。移動距離の大きなアニメーションや大振りなイージングは避ける。
- 状態変化はフェード・拡大縮小を軽く添えるだけにし、読み込みや処理待ちにはスケルトンやプログレスを提供。
- モーションが付くアニメーションには `prefers-reduced-motion` を尊重した制御を実装する。

## 8. 音声・言葉遣い
- トーンは「信頼できる技術サポーター」。過剰にカジュアルにならず、シンプルかつ丁寧な敬体を使用。
- コールトゥアクションはシンプルに（例: 「ホーム画面に追加」, 「共有リンクをコピー」）。
- 長文は段落を短く区切り、情報を箇条書きで整理。

## 9. 実装ガイド
- CSS 変数でテーマカラーを管理し、ライト/ダークの切り替えを容易にする。
- コンポーネントごとにデザインシステムのトークンを参照し、値の直書きを避ける。
- メディアクエリは `max-width: 768px` をモバイル基準とし、必要に応じて 480px のスモールスクリーン用調整を追加。
- 新規コンポーネントはこのガイドラインに沿った Storybook / Designsheets を整備し、共通化する。

## 10. 保守と改善
- コンポーネント改修時はこのドキュメントと照らし合わせ、乖離があればドキュメントを先に更新。
- ユーザーテストやアクセス解析の結果を反映し、必要に応じて配色・レイアウトのガイドを見直す。
- Codex エージェントは追加 UI を設計する前に本ガイドラインを参照し、意図を逸脱する変更は関係者と合意を取る。

---

このガイドラインはプロダクトのフェーズに応じて柔軟に更新してください。変更が発生した場合は Pull Request に本ドキュメント更新を含め、コンテキスト共有を徹底します。
